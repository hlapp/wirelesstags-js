<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Module: plugins/polling-updater</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Module: plugins/polling-updater</h1>

    




<section>

<header>
    
        
            
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description"><p>Uses a SOAP endpoint in the cloud API to continuously poll for
available updates.</p>
<p>The SOAP endpoint (<code>/ethComet.asmx</code>) is undocumented, but is the
one used by the <a href="http://wirelesstag.net/media/mytaglist.com/apidoc.html">client web application</a>.
The difference to the client web application is that this
implementation uses a proper SOAP API interface (in contrast to
hand-building the XML to be transmitted, and to parsing the
returned XML with a regex), and that it calls a different method at
that endpoint.</p>
<p>This updater can operate in two modes. In the default mode, only those
tag objects previously registered are updated, and all other data
updates returned by the polling API are ignored. In discovery mode,
data updates for which no matching tag object is registered will
result in new tag objects to be created on the fly, and for each of
these a <code>data</code> event is emitted by the updater (instead of by the
registered tag).</p>
<p>This updater should receive updates resulting from armed sensors
going below or above their configured thresholds, or detecting
motion. The one caveat is that there is a short wait time (see
<a href="module-plugins_polling-updater.html#~UPDATE_LOOP_WAIT"><code>UPDATE_LOOP_WAIT</code></a>),
and an exponentially increasing wait time after errors (see
<a href="module-plugins_polling-updater.html#~WAIT_AFTER_ERROR"><code>WAIT_AFTER_ERROR</code></a>)
until the next poll is issued. Updates falling into this time
period will only be caught at the next regular update interval
configured for a tag.</p></div>
        

        
            















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="plugins_polling-updater.js.html">plugins/polling-updater.js</a>, <a href="plugins_polling-updater.js.html#line5">line 5</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
    
    </div>

    

    

    
        <h3 class="subsection-title">Classes</h3>

        <dl>
            <dt><a href="module-plugins_polling-updater-PollingTagUpdater.html">PollingTagUpdater</a></dt>
            <dd></dd>
        </dl>
    

     

    

    
        <h3 class="subsection-title">Members</h3>

        
            
<h4 class="name" id="~API_BASE_URI"><span class="type-signature">(inner, constant) </span>API_BASE_URI<span class="type-signature"> :string</span></h4>




<div class="description">
    <p>the base URI of the polling API endpoint</p>
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">string</span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-default">Default Value:</dt>
    <dd class="tag-default"><ul class="dummy">
            <li>https://www.mytaglist.com</li>
        </ul></dd>
    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="plugins_polling-updater.js.html">plugins/polling-updater.js</a>, <a href="plugins_polling-updater.js.html#line53">line 53</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="~MAX_UPDATE_LOOP_WAIT"><span class="type-signature">(inner, constant) </span>MAX_UPDATE_LOOP_WAIT<span class="type-signature"> :number</span></h4>




<div class="description">
    <p>the maximum time to wait between subsequent calls of the
                  polling endpoint (in milliseconds)</p>
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">number</span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="plugins_polling-updater.js.html">plugins/polling-updater.js</a>, <a href="plugins_polling-updater.js.html#line71">line 71</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="~UPDATE_LOOP_WAIT"><span class="type-signature">(inner, constant) </span>UPDATE_LOOP_WAIT<span class="type-signature"> :number</span></h4>




<div class="description">
    <p>the time to wait between subsequent calls of the
                  polling endpoint (in milliseconds)</p>
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">number</span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-default">Default Value:</dt>
    <dd class="tag-default"><ul class="dummy">
            <li>10</li>
        </ul></dd>
    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="plugins_polling-updater.js.html">plugins/polling-updater.js</a>, <a href="plugins_polling-updater.js.html#line59">line 59</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="~WAIT_AFTER_ERROR"><span class="type-signature">(inner, constant) </span>WAIT_AFTER_ERROR<span class="type-signature"> :number</span></h4>




<div class="description">
    <p>the minimum time to wait between subsequent calls of the
                  polling endpoint after an error occurred (in milliseconds)</p>
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">number</span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-default">Default Value:</dt>
    <dd class="tag-default"><ul class="dummy">
            <li>1000</li>
        </ul></dd>
    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="plugins_polling-updater.js.html">plugins/polling-updater.js</a>, <a href="plugins_polling-updater.js.html#line65">line 65</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="~WSDL_URL_PATH"><span class="type-signature">(inner, constant) </span>WSDL_URL_PATH<span class="type-signature"> :string</span></h4>




<div class="description">
    <p>the path (relative to <code>API_BASE_URI</code>) of the WSDL
                  endpoint description for polling</p>
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">string</span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-default">Default Value:</dt>
    <dd class="tag-default"><ul class="dummy">
            <li>/ethComet.asmx?WSDL</li>
        </ul></dd>
    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="plugins_polling-updater.js.html">plugins/polling-updater.js</a>, <a href="plugins_polling-updater.js.html#line48">line 48</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
    

    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-lib_platform.html">lib/platform</a></li><li><a href="module-plugins_interval-updater.html">plugins/interval-updater</a></li><li><a href="module-plugins_polling-updater.html">plugins/polling-updater</a></li><li><a href="module-wirelesstags.html">wirelesstags</a></li></ul><h3>Classes</h3><ul><li><a href="module-plugins_interval-updater-TimedTagUpdater.html">TimedTagUpdater</a></li><li><a href="module-plugins_polling-updater-PollingTagUpdater.html">PollingTagUpdater</a></li><li><a href="MonitoringConfig.html">MonitoringConfig</a></li><li><a href="WirelessTag.html">WirelessTag</a></li><li><a href="WirelessTagManager.html">WirelessTagManager</a></li><li><a href="WirelessTagPlatform.html">WirelessTagPlatform</a></li><li><a href="WirelessTagSensor.html">WirelessTagSensor</a></li></ul><h3>Events</h3><ul><li><a href="WirelessTagManager.html#event:data">data</a></li><li><a href="WirelessTagManager.html#event:discover">discover</a></li><li><a href="WirelessTagPlatform.html#event:connect">connect</a></li><li><a href="WirelessTagPlatform.html#event:discover">discover</a></li></ul><h3>Tutorials</h3><ul><li><a href="tutorial-auto-discover.js.html">auto-discover.js</a></li><li><a href="tutorial-auto-update-polling.js.html">auto-update-polling.js</a></li><li><a href="tutorial-read-sensors.js.html">read-sensors.js</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.3</a>
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>