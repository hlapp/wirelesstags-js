<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: PollingTagUpdater</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Class: PollingTagUpdater</h1>

    




<section>

<header>
    
        <h2>
            <span class="ancestors"><a href="module-plugins_polling-updater.html">plugins/polling-updater</a>~</span>PollingTagUpdater</h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    

    <h4 class="name" id="PollingTagUpdater"><span class="type-signature"></span>new PollingTagUpdater<span class="signature">(platform<span class="signature-attributes">opt</span>, options<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Creates the updater instance.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>platform</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="WirelessTagPlatform.html">WirelessTagPlatform</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Platform object through
              which tags to be updated were (or are going to be)
              found (or created in discovery mode). In normal mode,
              this is only used to possibly override configuration
              options, specifically the base URI for the cloud API
              endpoints. For discovery mode to work, either this or
              <code>options.factory</code> must be provided.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>overriding configuration options</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>wsdl_url</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>the full path for obtaining
              the WSDL for the SOAP service to be polled (default:
              <a href="module-plugins_polling-updater.html#~WSDL_URL_PATH"><code>WSDL_URL_PATH</code></a>)</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>apiBaseURI</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>the base URI to use for API
              endpoints (default: <a href="module-plugins_polling-updater.html#~API_BASE_URI"><code>API_BASE_URI</code></a>)</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>discoveryMode</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>whether to run in
              discovery mode or not. Defaults to <code>false</code>.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>factory</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="WirelessTagPlatform.html#~factory">WirelessTagPlatform~factory</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>the tag
              and tag manager object factory to use in discovery
              mode. Either this, or the <code>platform</code> parameter must
              be provided for discovery mode to work.</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="plugins_polling-updater.js.html">plugins/polling-updater.js</a>, <a href="plugins_polling-updater.js.html#line97">line 97</a>
    </li></ul></dd>
    

    

    

    
</dl>
















    
    </div>

    

    

    

     

    

    
        <h3 class="subsection-title">Members</h3>

        
            
<h4 class="name" id="discoveryMode"><span class="type-signature"></span>discoveryMode<span class="type-signature"> :boolean</span></h4>






    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">boolean</span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="plugins_polling-updater.js.html">plugins/polling-updater.js</a>, <a href="plugins_polling-updater.js.html#line109">line 109</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="factory"><span class="type-signature"></span>factory<span class="type-signature"> :<a href="WirelessTagPlatform.html#~factory">WirelessTagPlatform~factory</a></span></h4>






    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type"><a href="WirelessTagPlatform.html#~factory">WirelessTagPlatform~factory</a></span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="plugins_polling-updater.js.html">plugins/polling-updater.js</a>, <a href="plugins_polling-updater.js.html#line140">line 140</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="platform"><span class="type-signature"></span>platform<span class="type-signature"> :<a href="WirelessTagPlatform.html">WirelessTagPlatform</a></span></h4>






    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type"><a href="WirelessTagPlatform.html">WirelessTagPlatform</a></span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="plugins_polling-updater.js.html">plugins/polling-updater.js</a>, <a href="plugins_polling-updater.js.html#line121">line 121</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id="addTags"><span class="type-signature"></span>addTags<span class="signature">(tags)</span><span class="type-signature"> &rarr; {<a href="module-plugins_polling-updater-PollingTagUpdater.html">module:plugins/polling-updater~PollingTagUpdater</a>}</span></h4>

    



<div class="description">
    <p>Adds the given tag object(s) to the ones to be updated by this updater.</p>
<p>Adding the same (determined by identity) object again has no
effect. However, an object that represents the same tag as one
already added (i.e., has the same <code>uuid</code> property value) will be
registered for updates, too.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>tags</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="WirelessTag.html">WirelessTag</a></span>
|

<span class="param-type">Array.&lt;<a href="WirelessTag.html">WirelessTag</a>></span>


            
            </td>

            

            

            <td class="description last"><p>the tag object(s) to
                                          be updated</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="plugins_polling-updater.js.html">plugins/polling-updater.js</a>, <a href="plugins_polling-updater.js.html#line157">line 157</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="module-plugins_polling-updater-PollingTagUpdater.html">module:plugins/polling-updater~PollingTagUpdater</a></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="apiClient"><span class="type-signature"></span>apiClient<span class="signature">()</span><span class="type-signature"> &rarr; {Promise}</span></h4>

    



<div class="description">
    <p>If necessary creates, and otherwise obtains from cache the SOAP
client instance for the WSDL endpoint.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="plugins_polling-updater.js.html">plugins/polling-updater.js</a>, <a href="plugins_polling-updater.js.html#line280">line 280</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <p>Resolves to the SOAP client object.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="removeTags"><span class="type-signature"></span>removeTags<span class="signature">(tags)</span><span class="type-signature"> &rarr; {<a href="module-plugins_polling-updater-PollingTagUpdater.html">module:plugins/polling-updater~PollingTagUpdater</a>}</span></h4>

    



<div class="description">
    <p>Removes the given tags from the ones to be updated by this updater.</p>
<p>Note that only the given object(s) will be removed. Specifically,
other tag objects with the same <code>uuid</code> property value, if
previously added, remain registered.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>tags</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="WirelessTag.html">WirelessTag</a></span>
|

<span class="param-type">Array.&lt;<a href="WirelessTag.html">WirelessTag</a>></span>


            
            </td>

            

            

            <td class="description last"><p>the tag object(s) to
                                          be removed from updating</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="plugins_polling-updater.js.html">plugins/polling-updater.js</a>, <a href="plugins_polling-updater.js.html#line181">line 181</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="module-plugins_polling-updater-PollingTagUpdater.html">module:plugins/polling-updater~PollingTagUpdater</a></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="startUpdateLoop"><span class="type-signature"></span>startUpdateLoop<span class="signature">(waitTime<span class="signature-attributes">opt</span>, callback<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Starts the continuous update loop. Registered tags will get updated
until they are removed, or <a href="module-plugins_polling-updater-PollingTagUpdater.html#stopUpdateLoop"><code>stopUpdateLoop()</code></a>
is called.</p>
<p>Has no effect if a continuous update loop is already running.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>waitTime</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>the time to wait until scheduling the
                next update; defaults to <a href="module-plugins_polling-updater.html#~UPDATE_LOOP_WAIT"><code>UPDATE_LOOP_WAIT</code></a>.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="module-wirelesstags.html#~apiCallback">module:wirelesstags~apiCallback</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>result.value
                will be array of tag data objects returned by the
                polling API</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="plugins_polling-updater.js.html">plugins/polling-updater.js</a>, <a href="plugins_polling-updater.js.html#line205">line 205</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="stopUpdateLoop"><span class="type-signature"></span>stopUpdateLoop<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Stops the continuous update loop. Has no effect if an update loop
is not currently active.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="plugins_polling-updater.js.html">plugins/polling-updater.js</a>, <a href="plugins_polling-updater.js.html#line266">line 266</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="uniqueTagManagers"><span class="type-signature"></span>uniqueTagManagers<span class="signature">()</span><span class="type-signature"> &rarr; {Array.&lt;<a href="WirelessTagManager.html">WirelessTagManager</a>>}</span></h4>

    



<div class="description">
    <p>Determines the list of tag managers with unique MACs used by the
tag objects registered with this updater, and returns it.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="plugins_polling-updater.js.html">plugins/polling-updater.js</a>, <a href="plugins_polling-updater.js.html#line294">line 294</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array.&lt;<a href="WirelessTagManager.html">WirelessTagManager</a>></span>


    </dd>
</dl>

    



        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-lib_platform.html">lib/platform</a></li><li><a href="module-plugins_interval-updater.html">plugins/interval-updater</a></li><li><a href="module-plugins_polling-updater.html">plugins/polling-updater</a></li><li><a href="module-wirelesstags.html">wirelesstags</a></li></ul><h3>Classes</h3><ul><li><a href="module-plugins_interval-updater-TimedTagUpdater.html">TimedTagUpdater</a></li><li><a href="module-plugins_polling-updater-PollingTagUpdater.html">PollingTagUpdater</a></li><li><a href="MonitoringConfig.html">MonitoringConfig</a></li><li><a href="WirelessTag.html">WirelessTag</a></li><li><a href="WirelessTagManager.html">WirelessTagManager</a></li><li><a href="WirelessTagPlatform.html">WirelessTagPlatform</a></li><li><a href="WirelessTagSensor.html">WirelessTagSensor</a></li></ul><h3>Events</h3><ul><li><a href="WirelessTagManager.html#event:data">data</a></li><li><a href="WirelessTagManager.html#event:discover">discover</a></li><li><a href="WirelessTagPlatform.html#event:connect">connect</a></li><li><a href="WirelessTagPlatform.html#event:discover">discover</a></li></ul><h3>Tutorials</h3><ul><li><a href="tutorial-auto-discover.js.html">auto-discover.js</a></li><li><a href="tutorial-auto-update-polling.js.html">auto-update-polling.js</a></li><li><a href="tutorial-read-sensors.js.html">read-sensors.js</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.3</a>
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>