<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: WirelessTagSensor</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Class: WirelessTagSensor</h1>

    




<section>

<header>
    
        <h2><span class="attribs"><span class="type-signature"></span></span>WirelessTagSensor<span class="signature">(tag, sensorType)</span><span class="type-signature"></span></h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    

    
    <h4 class="name" id="WirelessTagSensor"><span class="type-signature"></span>new WirelessTagSensor<span class="signature">(tag, sensorType)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Represents a sensor of a <a href="WirelessTag.html"><code>WirelessTag</code></a>. Physical tags have
multiple sensors (e.g., tenperature, humidity, light, motion, etc),
as well as dynamic status (such as out of range) and numeric (such
as signal strength and battery voltage) properties. We abstract all
of these out to sensors, which allows us to treat temperature, out
of range status, and battery voltage as conceptually the
same. Sensors do not all have the same capabilities (e.g., some can
be armed for monitoring, others, such as signal, cannot). However,
all sensors have a type (humidity, motion, light, signal, etc).</p>
<p>A user will not normally need to create instances directly; instead
they are found, and created by <a href="WirelessTag.html#discoverSensors"><code>WirelessTag#discoverSensors</code></a>.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>tag</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="WirelessTag.html">WirelessTag</a></span>


            
            </td>

            

            

            <td class="description last"><p>the tag instance that has this sensor</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>sensorType</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>the type of the sensor</p></td>
        </tr>

    
    </tbody>
</table>






    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>reading</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>
|

<span class="param-type">string</span>
|

<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last"><p>The current reading of the
            sensor. The type of the value depends on the type of sensor.
            Some sensors (light, temperature, humidity, moisture, battery,
            signal) have numeric readings, some (outofrange, water)
            have boolean, and some (event) have string values.
            For some sensors (currently only motion) the reading is
            undefined because the Wireless Tag platform does not provide
            access to a regularly updated value.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>eventState</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The current event state of the sensor.
            Unarmed sensors will be in state <code>Not Monitoring</code> or <code>Disarmed</code>,
            whereas armed sensors can be in <code>Normal</code>, <code>Too Hot</code>, <code>Too Dry</code>,
            and other states, depending on the type of sensor. Not every
            sensor has an event state; for example, the signal sensor does
            not. (Nor does the motion sensor, because it would be redundant
            with the event sensor.)</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>eventStateValues</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;string></span>


            
            </td>

            

            

            <td class="description last"><p>the possible values for <code>eventState</code></p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>probeType</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>only for temperature (<code>temp</code>,
            <code>secondarytemp</code>), <code>humidity</code>, and <code>moisture</code> sensors, the type
            of measurement probe or mechanism. Typically <code>Internal</code>, but
            can be <code>DS18B20</code> and <code>Thermocouple</code> for temperature, and
            <code>BLDXXXX</code> for moisture/humidity sensors, respectively, of tags
            capable of using an alternative probe.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>probeDisconnected</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last"><p><code>true</code> if an external probe is
            detected as disconnected, <code>false</code> if it is detected as connected,
            and <code>undefined</code> (or not present as a property) if the
            connection status can't be detected (or if the tag doesn't
            support external probes).</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>gracePeriod</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>only for <code>outofrange</code> sensors, the grace
            period in seconds after which a tag will go into <code>Out Of Range</code>
            state after losing contact with the tag manager.</p></td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_sensor.js.html">lib/sensor.js</a>, <a href="lib_sensor.js.html#line277">line 277</a>
    </li></ul></dd>
    

    

    

    
</dl>


















    
    </div>

    

    

    

    

    

    

    
        <h3 class="subsection-title">Members</h3>

        
            
<h4 class="name" id="callAPI"><span class="type-signature"></span>callAPI<span class="type-signature"> :function</span></h4>




<div class="description">
    <p>see <a href="WirelessTagPlatform.html#.callAPI"><code>WirelessTagPlatform.callAPI</code></a></p>
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">function</span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_sensor.js.html">lib/sensor.js</a>, <a href="lib_sensor.js.html#line284">line 284</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="sensorType"><span class="type-signature"></span>sensorType<span class="type-signature"> :string</span></h4>






    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">string</span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_sensor.js.html">lib/sensor.js</a>, <a href="lib_sensor.js.html#line287">line 287</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="wirelessTag"><span class="type-signature"></span>wirelessTag<span class="type-signature"> :<a href="WirelessTag.html">WirelessTag</a></span></h4>






    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type"><a href="WirelessTag.html">WirelessTag</a></span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_sensor.js.html">lib/sensor.js</a>, <a href="lib_sensor.js.html#line280">line 280</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    
    <h4 class="name" id="arm"><span class="type-signature"></span>arm<span class="signature">(callback<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Promise}</span></h4>
    

    



<div class="description">
    <p>Arms this sensor.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="module-wirelesstags.html#~apiCallback">module:wirelesstags~apiCallback</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_sensor.js.html">lib/sensor.js</a>, <a href="lib_sensor.js.html#line382">line 382</a>
    </li></ul></dd>
    

    

    

    
</dl>











<h5>Throws:</h5>

        

<dl>
    <dt>
        <div class="param-desc">
        <p>if the sensor
        does not support arming</p>
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type"><a href="WirelessTagPlatform.html#.OperationUnsupportedError">WirelessTagPlatform.OperationUnsupportedError</a></span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>


    


<h5>Returns:</h5>

        
<div class="param-desc">
    <p>Resolves to the sensor when arming completes. Will
         <a href="WirelessTag.html#retryUpdateUntil"><code>retry updating</code></a>
         until the tag's data reflect the armed state. Rejects
         with an <a href="WirelessTagPlatform.html#.OperationIncompleteError"><code>OperationIncompleteError</code></a>
         if this is still not the case after the
         <a href="module-lib_tag.html#~DEFAULT_RETRY_OPTIONS"><code>default number of retries</code></a>.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="canArm"><span class="type-signature"></span>canArm<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Whether the sensor can be armed. Most sensors can be armed but some (such
as <code>signal</code>) cannot.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_sensor.js.html">lib/sensor.js</a>, <a href="lib_sensor.js.html#line355">line 355</a>
    </li></ul></dd>
    

    

    

    
</dl>


















        
            

    

    
    <h4 class="name" id="canDisarm"><span class="type-signature"></span>canDisarm<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Whether the sensor can be disarmed. Most sensors that are armed can be
disarmed but some (such as <code>water</code>) cannot.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_sensor.js.html">lib/sensor.js</a>, <a href="lib_sensor.js.html#line364">line 364</a>
    </li></ul></dd>
    

    

    

    
</dl>


















        
            

    

    
    <h4 class="name" id="disarm"><span class="type-signature"></span>disarm<span class="signature">(callback<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Promise}</span></h4>
    

    



<div class="description">
    <p>Disarms this sensor.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="module-wirelesstags.html#~apiCallback">module:wirelesstags~apiCallback</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_sensor.js.html">lib/sensor.js</a>, <a href="lib_sensor.js.html#line408">line 408</a>
    </li></ul></dd>
    

    

    

    
</dl>











<h5>Throws:</h5>

        

<dl>
    <dt>
        <div class="param-desc">
        <p>if the sensor
        does not support arming</p>
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type"><a href="WirelessTagPlatform.html#.OperationUnsupportedError">WirelessTagPlatform.OperationUnsupportedError</a></span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>


    


<h5>Returns:</h5>

        
<div class="param-desc">
    <p>Resolves to the sensor when disarming completes. Will
         <a href="WirelessTag.html#retryUpdateUntil"><code>retry updating</code></a>
         until the tag's data reflect the armed state. Rejects
         with an <a href="WirelessTagPlatform.html#.OperationIncompleteError"><code>OperationIncompleteError</code></a>
         if this is still not the case after the
         <a href="module-lib_tag.html#~DEFAULT_RETRY_OPTIONS"><code>default number of retries</code></a>.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="isArmed"><span class="type-signature"></span>isArmed<span class="signature">()</span><span class="type-signature"> &rarr; {boolean}</span></h4>
    

    



<div class="description">
    <p>Whether the sensor is armed. An armed sensor will generate notifications
upon certain thresholds being exceeded.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_sensor.js.html">lib/sensor.js</a>, <a href="lib_sensor.js.html#line346">line 346</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <p><code>Undefined</code> if the sensor doesn't define an armed state,
           <code>true</code> if it is armed, and <code>false</code> otherwise.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="monitoringConfig"><span class="type-signature"></span>monitoringConfig<span class="signature">(newConfig<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="MonitoringConfig.html">MonitoringConfig</a>}</span></h4>
    

    



<div class="description">
    <p>Obtains (or sets) the <a href="MonitoringConfig.html"><code>monitoring configuration</code></a>
of the sensor.</p>
<p>The monitoring configuration for some sensors is not only stricly about
parameters controlling behavior and event notification when armed. For
example, for temperature and humidity sensors it includes the unit (°C
versus °F, %humidity versus dew point temperature).</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>newConfig</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="MonitoringConfig.html">MonitoringConfig</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>on set, the new monitoring
         configuration object</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_sensor.js.html">lib/sensor.js</a>, <a href="lib_sensor.js.html#line438">line 438</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <p>The monitoring configuration object active
         for this sensor. For sensor objects that haven't been fully
         initialized (see <a href="WirelessTag.html#createSensor"><code>WirelessTag#createSensor</code></a>), the returned
         object will need to be <a href="MonitoringConfig.html#update"><code>updated from the cloud</code></a>
         first before its properties reflect the currently active values.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="MonitoringConfig.html">MonitoringConfig</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="reset"><span class="type-signature"></span>reset<span class="signature">(callback<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Promise}</span></h4>
    

    



<div class="description">
    <p>Resets the motion event status of this sensor. This method is only
available for 'event' sensors (which tags with motion, light, PIR,
and Reed sensors have).</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="module-wirelesstags.html#~apiCallback">module:wirelesstags~apiCallback</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_sensor.js.html">lib/sensor.js</a>, <a href="lib_sensor.js.html#line486">line 486</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <p>Resolves when the reset completes.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="toString"><span class="type-signature"></span>toString<span class="signature">()</span><span class="type-signature"> &rarr; {string}</span></h4>
    

    



<div class="description">
    <p>String representation of the sensor object and its data. Includes a
reference to the tag (as <code>name</code>, <code>uuid</code>, and <code>slaveId</code>), properties, and
the sensor's monitoring configuration object.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_sensor.js.html">lib/sensor.js</a>, <a href="lib_sensor.js.html#line316">line 316</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>


    </dd>
</dl>

    





        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-lib_kumostat.html">lib/kumostat</a></li><li><a href="module-lib_platform.html">lib/platform</a></li><li><a href="module-lib_sensor.html">lib/sensor</a></li><li><a href="module-lib_sensorconfig.html">lib/sensorconfig</a></li><li><a href="module-lib_tag.html">lib/tag</a></li><li><a href="module-lib_util.html">lib/util</a></li><li><a href="module-lib_xforms.html">lib/xforms</a></li><li><a href="module-plugins_interval-updater.html">plugins/interval-updater</a></li><li><a href="module-plugins_polling-updater.html">plugins/polling-updater</a></li><li><a href="module-wirelesstags.html">wirelesstags</a></li></ul><h3>Classes</h3><ul><li><a href="module-plugins_interval-updater-TimedTagUpdater.html">TimedTagUpdater</a></li><li><a href="module-plugins_polling-updater-PollingTagUpdater.html">PollingTagUpdater</a></li><li><a href="MonitoringConfig.html">MonitoringConfig</a></li><li><a href="WirelessTag.html">WirelessTag</a></li><li><a href="WirelessTagManager.html">WirelessTagManager</a></li><li><a href="WirelessTagPlatform.html">WirelessTagPlatform</a></li><li><a href="WirelessTagSensor.html">WirelessTagSensor</a></li></ul><h3>Events</h3><ul><li><a href="WirelessTagManager.html#event:data">data</a></li><li><a href="WirelessTagManager.html#event:discover">discover</a></li><li><a href="WirelessTagPlatform.html#event:connect">connect</a></li><li><a href="WirelessTagPlatform.html#event:discover">discover</a></li></ul><h3>Mixins</h3><ul><li><a href="module-lib_kumostat-kumostat.html">kumostat</a></li></ul><h3>Tutorials</h3><ul><li><a href="tutorial-auto-discover.js.html">auto-discover.js</a></li><li><a href="tutorial-auto-update-polling.js.html">auto-update-polling.js</a></li><li><a href="tutorial-motion-reset.js.html">motion-reset.js</a></li><li><a href="tutorial-read-sensors.js.html">read-sensors.js</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a>
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>